{"version":3,"mappings":"kRAKaA,EAAa,MACxBC,YAAoBC,eAEpBC,UAAUD,GACR,OAAOE,KAAKC,KAAKC,IAAI,kDAAoDJ,iCARpEK,OAIIP,KAAaQ,QADzB,SAAW,CAAEC,WAAY,UACbT,8BCKAU,EAAe,MAK1BT,YAAoBC,wBAJbE,kBAAyB,GACzBA,eAAsB,GACtBA,UAAc,IAAIO,MAAOC,UAIhCC,WAIE,IAAIX,EACAY,EAJAC,aAAaC,QAAQ,kBACvBZ,KAAKa,aAAeC,KAAKC,MAAMJ,aAAaC,QAAQ,kBAItDZ,KAAKgB,cAAcjB,UAAU,SAASkB,UAAWC,IAC/C,IAAIC,EAAmBD,EAAKE,QAAQC,SAAS,GAAGC,MAChD,UAAWC,KAAUJ,EAAa,CAChC,IAAIK,EAAUC,IAAON,EAAYI,GAAS,SAASG,SAC/CC,EAAoB,IAAIpB,KAAKiB,GAAShB,UAC1C,GAAe,SAAXe,GAAgC,UAAXA,GAAiC,QAAXA,GAA+B,YAAXA,GAAmC,SAAXA,EAAmB,CAC5G,OAAQA,OACD,OACHzB,EAAU,UACVY,EAAY,WACZ,UACG,QACHZ,EAAU,WACVY,EAAY,YACZ,UACG,MACHZ,EAAU,SACVY,EAAY,UACZ,UACG,UACHZ,EAAU,aACVY,EAAY,eACZ,UACG,OACHZ,EAAU,UACVY,EAAY,YAGiB,IAA7BV,KAAKa,aAAae,QACpB5B,KAAKa,aAAagB,KAAK,CACrBC,KAAMP,EACNQ,WAAYJ,EACZK,WAAYb,EAAYI,GACxBU,OAAQ,GACRC,WAAYpC,EACZqC,KAAMzB,KAKdV,KAAKoC,aAAapC,KAAKa,gBAI3BwB,qBAAqBvC,GACnBa,aAAa2B,WAAW,gBACxB,QAAS5B,EAAI,EAAGA,EAAIV,KAAKa,aAAae,OAAQlB,IAC5C,GAAIV,KAAKa,aAAaH,GAAGoB,OAAShC,EAAOgC,KACvC,OAAQhC,EAAOmC,YACR,OACHjC,KAAKa,aAAaH,GAAGuB,OAAS,SAC9B,UACG,OAEH,IACG,SACHjC,KAAKa,aAAaH,GAAGuB,OAAS,OAKtCtB,aAAa4B,QAAQ,eAAgBzB,KAAK0B,UAAUxC,KAAKa,eAG3DuB,aAAatC,GACXa,aAAa2B,WAAW,gBACxB,QAAS5B,EAAI,EAAGA,EAAIV,KAAKa,aAAae,OAAQlB,IACxCV,KAAKa,aAAaH,GAAGqB,WAAa/B,KAAKyC,MACzCzC,KAAK0C,UAAUb,KAAK7B,KAAKa,aAAaH,GAAGqB,YACzC/B,KAAK0C,UAAUC,KAAK,CAACzB,EAAWC,IACvBA,EAAID,IAIjB,QAASR,EAAI,EAAGA,EAAIZ,EAAO8B,OAAQlB,IAC7BZ,EAAOY,GAAGqB,WAAa/B,KAAKyC,KAAO3C,EAAOY,GAAGqB,aAAe/B,KAAK0C,UAAU,IAA2B,SAArB5C,EAAOY,GAAGuB,OAC7FnC,EAAOY,GAAGuB,OAAS,SACVnC,EAAOY,GAAGqB,aAAe/B,KAAK0C,UAAU,IAA2B,SAArB5C,EAAOY,GAAGuB,OACjEnC,EAAOY,GAAGuB,OAAS,OACVnC,EAAOY,GAAGqB,WAAa/B,KAAKyC,MACrC3C,EAAOY,GAAGuB,OAAS,IAGvBtB,aAAa4B,QAAQ,eAAgBzB,KAAK0B,UAAUxC,KAAKa,6CAxGpDjB,IAQIU,KAAeF,UAL3BwC,OAAU,CACTC,SAAU,aACVC,SCPa,q8DDUFxC,0BEJb,MAAMyC,EAAuB,CAC3B,CACEC,KAAM,SACNC,UAAW3C,EACX4C,UAAW,eAcFC,EAAY,QAAZA,KAAY/C,UAVxBwC,OAAS,CACRQ,aAAc,CACZ9C,GAEF+C,QAAS,CACPC,KACAC,cAAsBR,GACtBS,SAGSL","names":["o","constructor","s","getPrayer","this","http","get","f","i","providedIn","e","Date","getTime","ngOnInit","r","localStorage","getItem","todayPrayers","JSON","parse","prayerService","subscribe","d","n","results","datetime","times","a","I","b","format","x","length","push","name","timeNumber","timeString","status","background","icon","prayerStatus","onChangePrayerStatus","removeItem","setItem","stringify","now","pastTimes","sort","c","selector","template","k","path","component","pathMatch","m","declarations","imports","p","P","S"],"sources":["./src/app/components/dashboard/components/prayer/prayer.service.ts","./src/app/components/dashboard/components/prayer/prayer.component.ts","./src/app/components/dashboard/components/prayer/prayer.component.html","./src/app/components/dashboard/components/prayer/prayer.module.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PrayerService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getPrayer(city: string): Observable<any> {\r\n    return this.http.get('https://api.pray.zone/v2/times/today.json?city=' + city);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Prayer } from './prayer';\r\nimport { PrayerService } from './prayer.service';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-prayer',\r\n  templateUrl: './prayer.component.html',\r\n  styleUrls: ['./prayer.component.scss']\r\n})\r\nexport class PrayerComponent implements OnInit {\r\n  public todayPrayers: Prayer[] = [];\r\n  public pastTimes: number[] = [];\r\n  public now: number = new Date().getTime();\r\n\r\n  constructor(private prayerService: PrayerService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (localStorage.getItem('todayPrayers')) {\r\n      this.todayPrayers = JSON.parse(localStorage.getItem('todayPrayers') as string);\r\n    }\r\n    let bgClass: string;\r\n    let prayerSun: string;\r\n    this.prayerService.getPrayer('cairo').subscribe((data) => {\r\n      let prayerTimes: any = data.results.datetime[0].times;\r\n      for (const prayer in prayerTimes) {\r\n        let timesNo = moment(prayerTimes[prayer], \"HH:mm\").format();\r\n        let timesDate: number = new Date(timesNo).getTime();\r\n        if (prayer === 'Fajr' || prayer === 'Dhuhr' || prayer === 'Asr' || prayer === 'Maghrib' || prayer === 'Isha') {\r\n          switch (prayer) {\r\n            case 'Fajr':\r\n              bgClass = 'bg-fajr';\r\n              prayerSun = 'fajr-sun';\r\n              break;\r\n            case 'Dhuhr':\r\n              bgClass = 'bg-dhuhr';\r\n              prayerSun = 'dhuhr-sun';\r\n              break;\r\n            case 'Asr':\r\n              bgClass = 'bg-asr';\r\n              prayerSun = 'asr-sun';\r\n              break;\r\n            case 'Maghrib':\r\n              bgClass = 'bg-maghrib';\r\n              prayerSun = 'maghrib-moon';\r\n              break;\r\n            case 'Isha':\r\n              bgClass = 'bg-isha';\r\n              prayerSun = 'isha-moon';\r\n              break;\r\n          }\r\n          if (this.todayPrayers.length !== 5) {\r\n            this.todayPrayers.push({\r\n              name: prayer,\r\n              timeNumber: timesDate,\r\n              timeString: prayerTimes[prayer],\r\n              status: '',\r\n              background: bgClass,\r\n              icon: prayerSun,\r\n            })\r\n          }\r\n        }\r\n      }\r\n      this.prayerStatus(this.todayPrayers);\r\n    });\r\n  }\r\n\r\n  onChangePrayerStatus(prayer: Prayer) {\r\n    localStorage.removeItem('todayPrayers');\r\n    for (let i = 0; i < this.todayPrayers.length; i++) {\r\n      if (this.todayPrayers[i].name === prayer.name) {\r\n        switch (prayer.status) {\r\n          case 'done':\r\n            this.todayPrayers[i].status = 'missed';\r\n            break;\r\n          case 'time':\r\n            this.todayPrayers[i].status = 'done';\r\n            break;\r\n          case 'missed':\r\n            this.todayPrayers[i].status = 'done';\r\n            break;\r\n        }\r\n      }\r\n    }\r\n    localStorage.setItem('todayPrayers', JSON.stringify(this.todayPrayers));\r\n  }\r\n\r\n  prayerStatus(prayer: Prayer[]) {\r\n    localStorage.removeItem('todayPrayers');\r\n    for (let i = 0; i < this.todayPrayers.length; i++) {\r\n      if (this.todayPrayers[i].timeNumber < this.now) {\r\n        this.pastTimes.push(this.todayPrayers[i].timeNumber);\r\n        this.pastTimes.sort((a: number, b: number) => {\r\n          return b - a;\r\n        })\r\n      }\r\n    }\r\n    for (let i = 0; i < prayer.length; i++) {\r\n      if (prayer[i].timeNumber < this.now && prayer[i].timeNumber !== this.pastTimes[0] && prayer[i].status !== \"done\") {\r\n        prayer[i].status = \"missed\";\r\n      } else if (prayer[i].timeNumber === this.pastTimes[0] && prayer[i].status !== \"done\") {\r\n        prayer[i].status = \"time\";\r\n      } else if (prayer[i].timeNumber > this.now) {\r\n        prayer[i].status = \"\";\r\n      }\r\n    }\r\n    localStorage.setItem('todayPrayers', JSON.stringify(this.todayPrayers));\r\n  }\r\n}\r\n","export default \"<div class=\\\"bg-light p-3 my-5 w-100\\\">\\r\\n  <img src=\\\"../../../../../assets/icons/prayer.svg\\\" width=\\\"20\\\" height=\\\"20\\\" />\\r\\n  <span class=\\\"ms-2 text-primary\\\">Prayer</span>\\r\\n</div>\\r\\n<div class=\\\"row justify-content-center w-100\\\" *ngIf=\\\"todayPrayers\\\">\\r\\n  <div class=\\\"col mx-2 rounded-pill-top px-2 text-center\\\"\\r\\n        *ngFor=\\\"let prayer of todayPrayers\\\"\\r\\n        [ngClass]=\\\"prayer.background\\\">\\r\\n    <div class=\\\"py-5\\\">\\r\\n      <div style=\\\"height:100px;width:100px\\\" class=\\\"mx-auto\\\">\\r\\n        <span *ngIf=\\\"prayer.status === 'time' || prayer.status === 'done'\\\">\\r\\n          <img src=\\\"{{'../../../../../assets/icons/'+ prayer.icon +'.svg'}}\\\" width=\\\"100\\\" height=\\\"100\\\" />\\r\\n        </span>\\r\\n      </div>\\r\\n      <h4 class=\\\"mt-5\\\">{{ prayer.name }}</h4>\\r\\n      <div class=\\\"pt-3\\\">{{ prayer.timeString }}</div>\\r\\n      <div class=\\\"pt-3 mx-auto\\\" style=\\\"height:32px;width:100px;\\\">\\r\\n        <div *ngIf=\\\"prayer.status === 'done'\\\">\\r\\n          <span class=\\\"alert-success rounded-pill py-1 px-2 clickable\\\" (click)=\\\"onChangePrayerStatus(prayer)\\\">\\r\\n            <img src=\\\"../../../../../assets/icons/done.svg\\\" width=\\\"20\\\" height=\\\"20\\\" />\\r\\n            <span class=\\\"ms-2\\\">Done</span>\\r\\n          </span>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"prayer.status === 'time'\\\">\\r\\n          <span class=\\\"alert-primary rounded-pill py-1 px-2 clickable\\\" (click)=\\\"onChangePrayerStatus(prayer)\\\">\\r\\n            <img src=\\\"../../../../../assets/icons/time.svg\\\" width=\\\"20\\\" height=\\\"20\\\" />\\r\\n            <span class=\\\"ms-2\\\">Time</span>\\r\\n          </span>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"prayer.status === 'missed'\\\">\\r\\n          <span class=\\\"alert-danger rounded-pill py-1 px-2 clickable\\\" (click)=\\\"onChangePrayerStatus(prayer)\\\">\\r\\n            <img src=\\\"../../../../../assets/icons/miss.svg\\\" width=\\\"20\\\" height=\\\"20\\\" />\\r\\n            <span class=\\\"ms-2\\\">Miss</span>\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PrayerComponent } from './prayer.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nconst prayerRoutes: Routes = [\r\n  {\r\n    path: 'prayer',\r\n    component: PrayerComponent,\r\n    pathMatch: 'prefix'\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PrayerComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(prayerRoutes),\r\n    FormsModule\r\n  ]\r\n})\r\nexport class PrayerModule { }\r\n"],"sourceRoot":"webpack:///","file":"src_app_components_dashboard_components_prayer_prayer_module_ts.830b3f34fbacf61c0a6c.js"}